<!DOCTYPE html>

<html>
<head>
{% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static './css/showimages.css' %}">
    <script src="{% static 'js/showimg.js' %}"></script>
    <title>CropX</title>

</head>
<body>
<h2>Images inside TIFF pages</h2>

{% if image_urls %}
    
    <form id="reordersaveing" method="post" action="{% url 'reoder-save' %}">
    <div class='btnligth-div'><button type="submit" class="btn btn-light submit-btn">Output new Tiff file</button></div>
    {% csrf_token %}
        <div id="image-list">
            {% for img in image_urls %}
            <div class="container-images" draggable="true" data-src="{{ img }}">
                
                <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">Rotate IMG</button>
                    
                    <ul class="dropdown-menu">
                        <li> <a class="dropdown-item" data-rotate="45" data-src="{{ img }}">45 Deg</a></li>
                        <li> <a class="dropdown-item" data-rotate="90" data-src="{{ img }}">90 Deg</a></li>
                        <li> <a class="dropdown-item" data-rotate="180" data-src="{{ img }}">180 Deg</a></li>
                        <li> <a class="dropdown-item" data-rotate="270" data-src="{{ img }}">270 Deg</a></li>
                        <li> <a class="dropdown-item" data-rotate="360" data-src="{{ img }}">360 Deg</a></li>
                    </ul>           
                
                <button type="submit" class="btn btn-danger delete-btn" data-src="{{ img }}">Delete IMG</button>
                
               
                <img src="{{ img }}" alt="TIFF Page {{ forloop.counter }}" class="img-class" width="500px" height="500px" data-src="{{ img }}">
                <br><br><br>

            </div>
            {% endfor %}
        </div >
        
    </form>
    {% else %}
    <p>No images to display.</p>
{% endif %}


</body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

</html>