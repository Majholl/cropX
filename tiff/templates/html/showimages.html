<!DOCTYPE html>

<html>
<head>
{% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static './css/showimages.css' %}">
    <script src="{% static 'js/showimg.js' %}"></script>
    <link rel="shortcut icon" href="#">
    <title>CropX</title>

</head>
<body>


{% if image_urls %}
<h2>Images inside TIFF pages</h2>
<form id="reordersaveing" method="post" action="{% url 'save-downlaod' %}">
    
    <div class='btnligth-div'>
        <button type="submit" class="btn btn-light back-btn" id="backbutton"><a class="back-showimages" href="http://127.0.0.1:8000/">back to upload page</a> </button>
        <button type="submit" class="btn btn-light submit-btn" id="saveandoutput">Output new Tiff file</button>    
    </div>

        <div class="imgsbtndiv" id="imgsbuttondiv" style="display:none">
            <button type="button" class="btn btn-primary funbtns dropdown-toggle" id="rotateimg" data-bs-toggle="dropdown">Rotate this image</button>
                            
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" id="dropdownitem" data-rotate="45">45 Deg  </a></li>
                    <li><a class="dropdown-item" id="dropdownitem" data-rotate="90">90 Deg  </a></li>
                    <li><a class="dropdown-item" id="dropdownitem" data-rotate="180">180 Deg</a></li>
                    <li><a class="dropdown-item" id="dropdownitem" data-rotate="270">270 Deg</a></li>
                    <li><a class="dropdown-item" id="dropdownitem"  data-rotate="360" >360 Deg</a></li>
                </ul>           
                        
            <button type="submit" class="btn btn-danger funbtns delete-btn" id="removebtn">Delete this image</button>
        </div>  


{% csrf_token %}
    <div class="container-images" id="orderimglist">
        {% for img in image_urls %}
        <div class="images-list"  draggable="true" data-src="{{ img }}">         
            <img src="{{ img }}" alt="TIFF Page {{ forloop.counter }}"  onclick="activeImg(event)"  class="img-class" width="500px" height="500px" data-src="{{ img }}">
        </div>    
       {% endfor %}
    </div >
    
 

        <div class="prev-next">
            <button  class='navi' id="previous-img">Previous</button>
            <button  class='navi' id="next-img">Next</button>
        </div>    

    



</form>



{% else %}
<h1>No images to display.</h1>  
{% endif %}


</body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

</html>